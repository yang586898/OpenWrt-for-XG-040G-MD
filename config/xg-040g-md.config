#
# Target
#
CONFIG_TARGET_airoha=y
CONFIG_TARGET_airoha_an7581=y
CONFIG_TARGET_airoha_an7581_DEVICE_bell_xg-040g-md=y
CONFIG_ARCH_64BIT=y
CONFIG_aarch64=y
CONFIG_LINUX_6_12=y

#
# Airoha hardware
#
CONFIG_PACKAGE_airoha-en7581-npu-firmware=y
CONFIG_PACKAGE_kmod-phy-airoha-en8811h=y
CONFIG_PACKAGE_kmod-i2c-an7581=y

#
# Base system ─ 这是最核心、最小系统必须的
#
CONFIG_DEFAULT_base-files=y
CONFIG_DEFAULT_busybox=y                  # 精简版工具集，几乎所有命令都靠它
CONFIG_DEFAULT_ca-bundle=y                # 根证书集合（https/wget/curl 等必须）
CONFIG_DEFAULT_logd=y                     # 系统日志守护进程
CONFIG_DEFAULT_procd=y                    # init 系统 / 服务管理核心
CONFIG_DEFAULT_uci=y                      # 配置系统（/etc/config/*）
CONFIG_DEFAULT_urandom-seed=y             # 随机种子保存/恢复（加密相关）
CONFIG_DEFAULT_urngd=y                    # 用户空间 RNG 守护进程
CONFIG_DEFAULT_netifd=y                   # 网络接口管理核心
CONFIG_DEFAULT_mtd=y                      # Flash 操作工具
CONFIG_DEFAULT_fstools=y                  # 文件系统挂载/检查工具
CONFIG_DEFAULT_block-mount=y              # 块设备挂载支持（USB 盘等）
CONFIG_PACKAGE_block-mount=y
CONFIG_DEFAULT_libc=y
CONFIG_DEFAULT_libgcc=y
CONFIG_PACKAGE_uboot-envtools=y
CONFIG_PACKAGE_kmod-ubootenv-nvram=y
CONFIG_PACKAGE_uclient-fetch=y
CONFIG_PACKAGE_kmod-gpio-button-hotplug=y
CONFIG_PACKAGE_kmod-leds-gpio=y
CONFIG_PACKAGE_ubi-utils=y
CONFIG_MTD_UBI=y
CONFIG_UBIFS_FS=y

#
# Network ─ 基本 IPv4/IPv6 网络栈
#
CONFIG_PACKAGE_dnsmasq=y             # DNS + DHCP + TFTP（可以用 full 版，支持更多功能）
CONFIG_PACKAGE_ip-full=y
CONFIG_IPV6=y                             # 全局 IPv6 支持（不是包，是内核选项）
CONFIG_DEFAULT_odhcp6c=y                  # IPv6 DHCP 客户端
CONFIG_DEFAULT_odhcpd-ipv6only=y          # IPv6-only DHCP 服务器（配合 dnsmasq）
CONFIG_PACKAGE_nftables=y                 # nft 核心工具
CONFIG_PACKAGE_firewall4=y                # nftables 版防火墙（取代旧 firewall）
CONFIG_PACKAGE_nftables=y
CONFIG_PACKAGE_kmod-nfnetlink=y
CONFIG_PACKAGE_kmod-nft-core=y
CONFIG_PACKAGE_kmod-nft-nat=y
CONFIG_PACKAGE_kmod-nf-flow=y
CONFIG_PACKAGE_kmod-nft-offload=y         # nft 硬件转发支持（如果芯片支持）
CONFIG_PACKAGE_ethtool-full=y             # 查看接口速率、双工模式、自动协商状态。

#
# 包管理器：apk
#
# 添加这一行（默认已由系统启用，但显式指定更保险）：
CONFIG_PACKAGE_apk=y
CONFIG_DEFAULT_apk-tools=y                # apk 主程序包
CONFIG_PACKAGE_apk-mbedtls=y
CONFIG_DEFAULT_openwrt-keyring=y          # 签名验证密钥环（apk 生态常用，且官方镜像默认带）

#
# PPPoE
#
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoe=y

#
# SSH
#
CONFIG_PACKAGE_dropbear=y
CONFIG_DROPBEAR_SMALL_CODE=y
CONFIG_DROPBEAR_ED25519=y
CONFIG_DROPBEAR_CURVE25519=y

#
# USB
#
CONFIG_USB_SUPPORT=y
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_kmod-usb-xhci-hcd=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-usb-storage-uas=y
CONFIG_PACKAGE_kmod-usb-storage-extras=y

#
# Samba4 & SFTP
#
CONFIG_PACKAGE_luci-app-samba4=y
CONFIG_PACKAGE_samba4-server=y
CONFIG_PACKAGE_samba4-libs=y
CONFIG_PACKAGE_samba4-utils=y
CONFIG_PACKAGE_openssh-sftp-server=y

#
# Filesystem (extroot)
#
CONFIG_PACKAGE_fitblk=y
CONFIG_PACKAGE_blkid=y
CONFIG_PACKAGE_lsblk=y
CONFIG_PACKAGE_e2fsprogs=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-fs-exfat=y
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-ntfs3=y

#
# LuCI 语言
#
CONFIG_LUCI_LANG_zh_Hans=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y
CONFIG_PACKAGE_luci-i18n-passwall-zh-cn=y
#
# 主題設置 (Argon Theme)
#
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-app-argon-config=y

#
# 额外添加的包（用户自定义，非核心默认）
#
CONFIG_PACKAGE_luci=y                 # Web 管理
CONFIG_PACKAGE_luci-ssl=y                 # LuCI HTTPS 支持
CONFIG_PACKAGE_umdns=y                    # 本地 mDNS/zeroconf 支持（hostname.local 解析）
CONFIG_PACKAGE_kmod-mtd-rw=y              # MTD 分区临时写权限（用于 NAND/eMMC 恢复或刷写）
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget-ssl=y
CONFIG_PACKAGE_fwtool=y
CONFIG_PACKAGE_luci-app-hd-idle=y
CONFIG_PACKAGE_hd-idle=y
#
# DDNS
#
CONFIG_PACKAGE_luci-app-ddns=y
CONFIG_PACKAGE_ddns-scripts=y
CONFIG_PACKAGE_ddns-scripts-services=y
CONFIG_PACKAGE_ddns-scripts-noip=y

#
# 網絡加速 (Turbo ACC / Flow Offloading)
#
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_OFFLOADING=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_SHORTCUT_FE=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_BBR_CCA=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_DNS_CACHE=y

#
# 磁碟管理與自動掛載 (新增)
#
CONFIG_PACKAGE_luci-app-diskman=y      # 強大的磁碟管理介面 (分區、格式化)
CONFIG_PACKAGE_luci-app-mountd=y       # 自動掛載工具介面
CONFIG_PACKAGE_mountd=y                # 自動掛載守護進程
CONFIG_PACKAGE_fdisk=y                 # 命令行分區工具


#
# PassWall (代理软件)
#
CONFIG_PACKAGE_luci-app-passwall=y
# PassWall 核心代理组件 (注释掉避免与 homeproxy 循环依赖)
CONFIG_PACKAGE_sing-box=y
CONFIG_PACKAGE_xray-core=y
# 可选：其他协议支持 (按需启用)
CONFIG_PACKAGE_hysteria=y
#CONFIG_PACKAGE_naiveproxy=y
#CONFIG_PACKAGE_shadowsocks-rust-sslocal=y
#CONFIG_PACKAGE_v2ray-core=y

#
# 透明代理所需内核模块
#
CONFIG_PACKAGE_kmod-nft-tproxy=y
CONFIG_PACKAGE_kmod-nf-socket=y

#
# V2RayA (可选代理软件)
#

#
# Build options
#
CONFIG_DEVEL=y
CONFIG_CCACHE=y
CONFIG_CCACHE_DIR="/mnt/openwrt/ccache"
